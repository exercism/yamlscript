#!/usr/bin/env ys-0

require ys::taptest: :all

use: bottle-song

test::
- name: First generic verse
  code: recite(10 1)
  want:
  - Ten green bottles hanging on the wall,
  - Ten green bottles hanging on the wall,
  - And if one green bottle should accidentally fall,
  - There'll be nine green bottles hanging on the wall.
  uuid: d4ccf8fc-01dc-48c0-a201-4fbeb30f2d03

- name: Last generic verse
  code: recite(3 1)
  want:
  - Three green bottles hanging on the wall,
  - Three green bottles hanging on the wall,
  - And if one green bottle should accidentally fall,
  - There'll be two green bottles hanging on the wall.
  uuid: 0f0aded3-472a-4c64-b842-18d4f1f5f030

- name: Verse with 2 bottles
  code: recite(2 1)
  want:
  - Two green bottles hanging on the wall,
  - Two green bottles hanging on the wall,
  - And if one green bottle should accidentally fall,
  - There'll be one green bottle hanging on the wall.
  uuid: f61f3c97-131f-459e-b40a-7428f3ed99d9

- name: Verse with 1 bottle
  code: recite(1 1)
  want:
  - One green bottle hanging on the wall,
  - One green bottle hanging on the wall,
  - And if one green bottle should accidentally fall,
  - There'll be no green bottles hanging on the wall.
  uuid: 05eadba9-5dbd-401e-a7e8-d17cc9baa8e0

- name: First two verses
  code: recite(10 2)
  want:
  - Ten green bottles hanging on the wall,
  - Ten green bottles hanging on the wall,
  - And if one green bottle should accidentally fall,
  - There'll be nine green bottles hanging on the wall.
  - ''
  - Nine green bottles hanging on the wall,
  - Nine green bottles hanging on the wall,
  - And if one green bottle should accidentally fall,
  - There'll be eight green bottles hanging on the wall.
  uuid: a4a28170-83d6-4dc1-bd8b-319b6abb6a80

- name: Last three verses
  code: recite(3 3)
  want:
  - Three green bottles hanging on the wall,
  - Three green bottles hanging on the wall,
  - And if one green bottle should accidentally fall,
  - There'll be two green bottles hanging on the wall.
  - ''
  - Two green bottles hanging on the wall,
  - Two green bottles hanging on the wall,
  - And if one green bottle should accidentally fall,
  - There'll be one green bottle hanging on the wall.
  - ''
  - One green bottle hanging on the wall,
  - One green bottle hanging on the wall,
  - And if one green bottle should accidentally fall,
  - There'll be no green bottles hanging on the wall.
  uuid: 3185d438-c5ac-4ce6-bcd3-02c9ff1ed8db

- name: All verses
  code: recite(10 10)
  want:
  - Ten green bottles hanging on the wall,
  - Ten green bottles hanging on the wall,
  - And if one green bottle should accidentally fall,
  - There'll be nine green bottles hanging on the wall.
  - ''
  - Nine green bottles hanging on the wall,
  - Nine green bottles hanging on the wall,
  - And if one green bottle should accidentally fall,
  - There'll be eight green bottles hanging on the wall.
  - ''
  - Eight green bottles hanging on the wall,
  - Eight green bottles hanging on the wall,
  - And if one green bottle should accidentally fall,
  - There'll be seven green bottles hanging on the wall.
  - ''
  - Seven green bottles hanging on the wall,
  - Seven green bottles hanging on the wall,
  - And if one green bottle should accidentally fall,
  - There'll be six green bottles hanging on the wall.
  - ''
  - Six green bottles hanging on the wall,
  - Six green bottles hanging on the wall,
  - And if one green bottle should accidentally fall,
  - There'll be five green bottles hanging on the wall.
  - ''
  - Five green bottles hanging on the wall,
  - Five green bottles hanging on the wall,
  - And if one green bottle should accidentally fall,
  - There'll be four green bottles hanging on the wall.
  - ''
  - Four green bottles hanging on the wall,
  - Four green bottles hanging on the wall,
  - And if one green bottle should accidentally fall,
  - There'll be three green bottles hanging on the wall.
  - ''
  - Three green bottles hanging on the wall,
  - Three green bottles hanging on the wall,
  - And if one green bottle should accidentally fall,
  - There'll be two green bottles hanging on the wall.
  - ''
  - Two green bottles hanging on the wall,
  - Two green bottles hanging on the wall,
  - And if one green bottle should accidentally fall,
  - There'll be one green bottle hanging on the wall.
  - ''
  - One green bottle hanging on the wall,
  - One green bottle hanging on the wall,
  - And if one green bottle should accidentally fall,
  - There'll be no green bottles hanging on the wall.
  uuid: 28c1584a-0e51-4b65-9ae2-fbc0bf4bbb28

done: 7
