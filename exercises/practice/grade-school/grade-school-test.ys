#!/usr/bin/env ys-0

require ys::taptest: :all

use: grade-school

# Given students' names along with the grade that they are in,
# create a roster for the school.

test::
- name: Roster is empty when no student is added
  code: roster([])
  want: []

- name: Add a student
  code: add([["Aimee" 2]])
  want:
  - true

- name: Student is added to the roster
  code: roster([["Aimee" 2]])
  want:
  - Aimee

- name: Adding multiple students in the same grade in the roster
  code: add([["Blair" 2] ["James" 2] ["Paul" 2]])
  want:
  - true
  - true
  - true

- name: Multiple students in the same grade are added to the roster
  code: roster([["Blair" 2] ["James" 2] ["Paul" 2]])
  want:
  - Blair
  - James
  - Paul

- name: Cannot add student to same grade in the roster more than once
  code: add([["Blair" 2] ["James" 2] ["James" 2] ["Paul" 2]])
  want:
  - true
  - true
  - false
  - true

- name: A student can't be in two different grades
  code: roster([["Aimee" 2] ["Aimee" 1]] 2)
  want: []

- name: A student can only be added to the same grade in the roster once
  code: roster([["Aimee" 2] ["Aimee" 2]])
  want:
  - Aimee

- name: Student not added to same grade in the roster more than once
  code: roster([["Blair" 2] ["James" 2] ["James" 2] ["Paul" 2]])
  want:
  - Blair
  - James
  - Paul

- name: Adding students in multiple grades
  code: add([["Chelsea" 3] ["Logan" 7]])
  want:
  - true
  - true

- name: Students in multiple grades are added to the roster
  code: roster([["Chelsea" 3] ["Logan" 7]])
  want:
  - Chelsea
  - Logan

- name: Cannot add same student to multiple grades in the roster
  code: add([["Blair" 2] ["James" 2] ["James" 3] ["Paul" 3]])
  want:
  - true
  - true
  - false
  - true

- name: A student cannot be added to more than one grade in the sorted roster
  code: roster([["Aimee" 2] ["Aimee" 1]])
  want:
  - Aimee

- name: Student not added to multiple grades in the roster
  code: roster([["Blair" 2] ["James" 2] ["James" 3] ["Paul" 3]])
  want:
  - Blair
  - James
  - Paul

- name: Students are sorted by grades in the roster
  code: roster([["Jim" 3] ["Peter" 2] ["Anna" 1]])
  want:
  - Anna
  - Peter
  - Jim

- name: Students are sorted by name in the roster
  code: roster([["Peter" 2] ["Zoe" 2] ["Alex" 2]])
  want:
  - Alex
  - Peter
  - Zoe

- name: Students are sorted by grades and then by name in the roster
  code: roster([["Peter" 2] ["Anna" 1] ["Barb" 1] ["Zoe" 2] ["Alex" 2] ["Jim" 3] ["Charlie" 1]])
  want:
  - Anna
  - Barb
  - Charlie
  - Alex
  - Peter
  - Zoe
  - Jim

- name: Grade is empty if no students in the roster
  code: grade([] 1)
  want: []

- name: Grade is empty if no students in that grade
  code: grade([["Peter" 2] ["Zoe" 2] ["Alex" 2] ["Jim" 3]] 1)
  want: []

- name: Student not added to same grade more than once
  code: grade([["Blair" 2] ["James" 2] ["James" 2] ["Paul" 2]] 2)
  want:
  - Blair
  - James
  - Paul

- name: Student not added to multiple grades
  code: grade([["Blair" 2] ["James" 2] ["James" 3] ["Paul" 3]] 2)
  want:
  - Blair
  - James

- name: Student not added to other grade for multiple grades
  code: grade([["Blair" 2] ["James" 2] ["James" 3] ["Paul" 3]] 3)
  want:
  - Paul

- name: Students are sorted by name in a grade
  code: grade([["Franklin" 5] ["Bradley" 5] ["Jeff" 1]] 5)
  want:
  - Bradley
  - Franklin

done: 23
